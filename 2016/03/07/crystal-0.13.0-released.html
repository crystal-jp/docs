<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Crystal 0.13.0 released! - The Crystal Programming Language</title>
    <meta charset='utf-8'>
    <!-- Import Google Icon Font -->
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons|Roboto+Mono' rel='stylesheet'>
    <link href="/assets/stylesheet.css" rel="stylesheet" />
    <link href='/feed.xml' rel='alternate' title='Atom 1.0' type='application/atom+xml'>
    <link href='/favicon.png' rel='icon' type='image/png'>
    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Crystal 0.13.0 released! | プログラミング言語 Crystal</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Crystal 0.13.0 released!" />
<meta name="author" content="asterite" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Crystal 0.13.0 has been released!" />
<meta property="og:description" content="Crystal 0.13.0 has been released!" />
<link rel="canonical" href="https://ja.crystal-lang.org/2016/03/07/crystal-0.13.0-released.html" />
<meta property="og:url" content="https://ja.crystal-lang.org/2016/03/07/crystal-0.13.0-released.html" />
<meta property="og:site_name" content="プログラミング言語 Crystal" />
<meta property="og:image" content="https://ja.crystal-lang.org/assets/icon.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-03-07T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://ja.crystal-lang.org/assets/icon.png" />
<meta property="twitter:title" content="Crystal 0.13.0 released!" />
<meta name="twitter:site" content="@CrystalLanguage" />
<meta name="twitter:creator" content="@asterite" />
<script type="application/ld+json">
{"datePublished":"2016-03-07T00:00:00+00:00","dateModified":"2016-03-07T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://ja.crystal-lang.org/2016/03/07/crystal-0.13.0-released.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ja.crystal-lang.org/assets/media/crystal_logo.svg"},"name":"asterite"},"url":"https://ja.crystal-lang.org/2016/03/07/crystal-0.13.0-released.html","author":{"@type":"Person","name":"asterite"},"@type":"BlogPosting","image":"https://ja.crystal-lang.org/assets/icon.png","headline":"Crystal 0.13.0 released!","description":"Crystal 0.13.0 has been released!","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- Let browser know website is optimized for mobile -->
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <script src='https://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript'></script>
  </head>
  <body>
    <div class="wrapper ">
  <nav role='navigation'>
  <div class='nav-wrapper no-select'>
    
      <a class='brand-logo' id='logo-container'>
        <canvas height='120' id='logo-canvas' style='cursor:move' width='120'></canvas>
      </a>
    
    <ul class='right hide-on-med-and-down' id='nav-desktop'>
      
<li>
    <a href="/">
      Home
    </a>
  </li>
<li>
    <a href="https://forum.crystal-lang.org" target="_blank">
      Forum
    </a>
  </li>
<li>
    <a href="/blog/">
      Blog
    </a>
  </li>
<li>
    <a href="/sponsors/">
      Sponsors
    </a>
  </li>
<li>
    <a href="/community/">
      Community
    </a>
  </li>
<li>
    <a href="/conference/">
      Conference
    </a>
  </li>
<li>
    <a href="/team/">
      Team
    </a>
  </li>
<li>
    <a href="/docs/">
      Docs
    </a>
  </li>
<li>
    <a href="https://github.com/crystal-lang/crystal" target="_blank">
      GitHub
    </a>
  </li>


    </ul>
    <ul class='side-nav' id='nav-mobile'>
      
<li>
    <a href="/">
      Home
    </a>
  </li>
<li>
    <a href="https://forum.crystal-lang.org" target="_blank">
      Forum
    </a>
  </li>
<li>
    <a href="/blog/">
      Blog
    </a>
  </li>
<li>
    <a href="/sponsors/">
      Sponsors
    </a>
  </li>
<li>
    <a href="/community/">
      Community
    </a>
  </li>
<li>
    <a href="/conference/">
      Conference
    </a>
  </li>
<li>
    <a href="/team/">
      Team
    </a>
  </li>
<li>
    <a href="/docs/">
      Docs
    </a>
  </li>
<li>
    <a href="https://github.com/crystal-lang/crystal" target="_blank">
      GitHub
    </a>
  </li>


    </ul>
    <a class='button-collapse' data-activates='nav-mobile' href='#'>
      <i class='material-icons'>menu</i>
    </a>
  </div>
</nav>


  <div class='post-header'>
  <div class="container">
    <div class='valign row'>
      <div class="col m2"></div>
      <div class="col s12 m9">
        <div class="author small">
          
          
            <img src="/assets/authors/asterite.jpg" />
          
          
            <span class="author_name">Ary Borenzweig</span>
          
          <span class="date">07 Mar 2016</span>
        </div>

        <h1 class='title'>Crystal 0.13.0 released!</h1>
      </div>
      <div class="col m1"></div>
    </div>
  </div>
</div>


<main>
  <div class="container">
    <div class="row post-layout">
      <div class="col m2 share">
        <p class="title small share-title">Share</p>
        <div class="share-list">
          
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fja.crystal-lang.org%2F2016%2F03%2F07%2Fcrystal-0.13.0-released.html&text=Crystal+0.13.0+released%21&via=CrystalLanguage" target="_blank">
            <div class="share-item"><i class="extra-icons twitter gray"></i></div>
          </a>
          <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fja.crystal-lang.org%2F2016%2F03%2F07%2Fcrystal-0.13.0-released.html" target="_blank">
            <div class="share-item"><i class="extra-icons facebook gray"></i></div>
          </a>
          <a href="https://plus.google.com/share?url=https%3A%2F%2Fja.crystal-lang.org%2F2016%2F03%2F07%2Fcrystal-0.13.0-released.html" target="_blank">
            <div class="share-item"><i class="extra-icons google_plus gray"></i></div>
            </a>
        </div>
      </div>

      <div class="col s12 m9">
        <p><a href="https://github.com/crystal-lang/crystal/releases/tag/0.13.0">Crystal 0.13.0</a> has been released!</p>

<p>This release includes some compiler and standard library fixes, as well as a bunch of additions.
Let’s see some of them.</p>

<h3 id="special-handling-of-case-with-tuple-literals">Special handling of case with tuple literals</h3>

<p>There’s now special language support for matching multiple values. For example, FizzBuzz
can now be written like this, using an underscore (<code class="language-crystal highlighter-rouge"><span class="n">_</span></code>) to match any value:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="k">case</span> <span class="p">{</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span><span class="p">}</span>
  <span class="k">when</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"FizzBuzz"</span>
  <span class="k">when</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="n">_</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"Fizz"</span>
  <span class="k">when</span> <span class="p">{</span><span class="n">_</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"Buzz"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="n">i</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>With this new syntax you can also match types, and variables inside a <code class="language-crystal highlighter-rouge"><span class="k">when</span></code> body are known
by the compiler to have those types:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="n">a</span> <span class="o">=</span> <span class="nb">rand</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="s2">"hello"</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">rand</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">?</span> <span class="mi">2</span> <span class="p">:</span> <span class="s2">"bye"</span>

<span class="k">case</span> <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">}</span>
<span class="k">when</span> <span class="p">{</span><span class="no">Int32</span><span class="p">,</span> <span class="no">Int32</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="s2">"Both ints: </span><span class="si">#{</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">"</span>
<span class="k">when</span> <span class="p">{</span><span class="no">String</span><span class="p">,</span> <span class="no">String</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="s2">"Both strings: </span><span class="si">#{</span><span class="n">a</span><span class="p">.</span><span class="nf">upcase</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="p">.</span><span class="nf">upcase</span><span class="si">}</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Other: </span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="backreferences-in-sub-and-gsub">Backreferences in sub and gsub</h3>

<p><code class="language-crystal highlighter-rouge"><span class="no">String</span><span class="c1">#sub</span></code> and <code class="language-crystal highlighter-rouge"><span class="no">String</span><span class="c1">#gsub</span></code> now feature a syntax for backreferences, similar to Ruby’s.
For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">puts</span> <span class="s2">"hello world"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/([aeiou])/</span><span class="p">,</span> <span class="s2">"*</span><span class="se">\\</span><span class="s2">1*"</span><span class="p">)</span> <span class="c1"># =&gt; "h*e*ll*o* w*o*rld"</span>
</code></pre></div></div>

<p>To implement this, <code class="language-crystal highlighter-rouge"><span class="nb">gsub</span></code> does a quick check to see if the string has any backlash in it. If so,
for every match it will scan the string for backreferences. The quick check would make existing
code slower. However, most of the cases the replacement string is known at compile-time, so that
check disappears in release mode, thanks to LLVM.</p>

<h3 id="custom-separator-and-quote-for-csv">Custom separator and quote for CSV</h3>

<p>The separator and quote field for parsing CSV can now be specified at construction time,
thanks to <a href="https://github.com/repomaa">jreinert</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">require</span> <span class="s2">"csv"</span>

<span class="n">string</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">CSV</span><span class="sh">
         name;value
         foo;bar
</span><span class="no">         CSV</span>
<span class="no">CSV</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="ss">separator: </span><span class="s1">';'</span><span class="p">)</span> <span class="c1"># =&gt; [["name", "value"], ["foo", "bar"]]</span>
</code></pre></div></div>

<h3 id="random-float">Random float</h3>

<p>Now you can generate a random float between 0 and <code class="language-crystal highlighter-rouge"><span class="n">max</span></code>, or between a given float range,
thanks to <a href="https://github.com/AlexWayfer">AlexWayfer</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">puts</span> <span class="nb">rand</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span> <span class="c1"># =&gt; 0.0369659</span>
<span class="nb">puts</span> <span class="nb">rand</span><span class="p">(</span><span class="mf">1.5</span><span class="o">..</span><span class="mf">2.5</span><span class="p">)</span> <span class="c1"># =&gt; 1.68439</span>
</code></pre></div></div>

<h3 id="other-changes">Other changes</h3>

<p>Be sure to read the full <a href="https://github.com/crystal-lang/crystal/releases/tag/0.13.0">changelog</a>, as there
are more additions, small changes, bug fixes and optimizations.</p>

      </div>
      <div class="col m1"></div>
    </div>

    <div class="row disqus">
      <div class="col m2"></div>
      <div class="col s12 m9" id='disqus_thread'>
        <p><a href="https://github.com/crystal-lang/crystal/releases/tag/0.13.0">Crystal 0.13.0</a> has been released!</p>

<p>This release includes some compiler and standard library fixes, as well as a bunch of additions.
Let’s see some of them.</p>

<h3 id="special-handling-of-case-with-tuple-literals">Special handling of case with tuple literals</h3>

<p>There’s now special language support for matching multiple values. For example, FizzBuzz
can now be written like this, using an underscore (<code class="language-crystal highlighter-rouge"><span class="n">_</span></code>) to match any value:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="p">).</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="k">case</span> <span class="p">{</span><span class="n">i</span> <span class="o">%</span> <span class="mi">3</span><span class="p">,</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span><span class="p">}</span>
  <span class="k">when</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"FizzBuzz"</span>
  <span class="k">when</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="n">_</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"Fizz"</span>
  <span class="k">when</span> <span class="p">{</span><span class="n">_</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
    <span class="nb">puts</span> <span class="s2">"Buzz"</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="n">i</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>With this new syntax you can also match types, and variables inside a <code class="language-crystal highlighter-rouge"><span class="k">when</span></code> body are known
by the compiler to have those types:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="n">a</span> <span class="o">=</span> <span class="nb">rand</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">?</span> <span class="mi">1</span> <span class="p">:</span> <span class="s2">"hello"</span>
<span class="n">b</span> <span class="o">=</span> <span class="nb">rand</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">?</span> <span class="mi">2</span> <span class="p">:</span> <span class="s2">"bye"</span>

<span class="k">case</span> <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">}</span>
<span class="k">when</span> <span class="p">{</span><span class="no">Int32</span><span class="p">,</span> <span class="no">Int32</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="s2">"Both ints: </span><span class="si">#{</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">"</span>
<span class="k">when</span> <span class="p">{</span><span class="no">String</span><span class="p">,</span> <span class="no">String</span><span class="p">}</span>
  <span class="nb">puts</span> <span class="s2">"Both strings: </span><span class="si">#{</span><span class="n">a</span><span class="p">.</span><span class="nf">upcase</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="p">.</span><span class="nf">upcase</span><span class="si">}</span><span class="s2">"</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s2">"Other: </span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
</code></pre></div></div>

<h3 id="backreferences-in-sub-and-gsub">Backreferences in sub and gsub</h3>

<p><code class="language-crystal highlighter-rouge"><span class="no">String</span><span class="c1">#sub</span></code> and <code class="language-crystal highlighter-rouge"><span class="no">String</span><span class="c1">#gsub</span></code> now feature a syntax for backreferences, similar to Ruby’s.
For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">puts</span> <span class="s2">"hello world"</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/([aeiou])/</span><span class="p">,</span> <span class="s2">"*</span><span class="se">\\</span><span class="s2">1*"</span><span class="p">)</span> <span class="c1"># =&gt; "h*e*ll*o* w*o*rld"</span>
</code></pre></div></div>

<p>To implement this, <code class="language-crystal highlighter-rouge"><span class="nb">gsub</span></code> does a quick check to see if the string has any backlash in it. If so,
for every match it will scan the string for backreferences. The quick check would make existing
code slower. However, most of the cases the replacement string is known at compile-time, so that
check disappears in release mode, thanks to LLVM.</p>

<h3 id="custom-separator-and-quote-for-csv">Custom separator and quote for CSV</h3>

<p>The separator and quote field for parsing CSV can now be specified at construction time,
thanks to <a href="https://github.com/repomaa">jreinert</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">require</span> <span class="s2">"csv"</span>

<span class="n">string</span> <span class="o">=</span> <span class="o">&lt;&lt;-</span><span class="no">CSV</span><span class="sh">
         name;value
         foo;bar
</span><span class="no">         CSV</span>
<span class="no">CSV</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="ss">separator: </span><span class="s1">';'</span><span class="p">)</span> <span class="c1"># =&gt; [["name", "value"], ["foo", "bar"]]</span>
</code></pre></div></div>

<h3 id="random-float">Random float</h3>

<p>Now you can generate a random float between 0 and <code class="language-crystal highlighter-rouge"><span class="n">max</span></code>, or between a given float range,
thanks to <a href="https://github.com/AlexWayfer">AlexWayfer</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="code_section"><code><span class="nb">puts</span> <span class="nb">rand</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span> <span class="c1"># =&gt; 0.0369659</span>
<span class="nb">puts</span> <span class="nb">rand</span><span class="p">(</span><span class="mf">1.5</span><span class="o">..</span><span class="mf">2.5</span><span class="p">)</span> <span class="c1"># =&gt; 1.68439</span>
</code></pre></div></div>

<h3 id="other-changes">Other changes</h3>

<p>Be sure to read the full <a href="https://github.com/crystal-lang/crystal/releases/tag/0.13.0">changelog</a>, as there
are more additions, small changes, bug fixes and optimizations.</p>

      </div>
      <div class="col m1"></div>
    </div>
  </div>
</main>


  <footer>
  <div class="row">
    <div class="col s12 m12 l6 crystal">
      Crystal is licensed under the Apache License,
      <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>
        Version 2.0
      </a>
    </div>
    <div class="col s12 m12 l6 manas right-align black-text">
      Crystal language, born & raised at
      <a href="https://manas.tech" target="_blank" class="black-text">Manas</a>
      <a href="https://manas.tech" target="_blank" class="logo">
        <i class="manas"></i>
      </a>
    </div>
  </div>
</footer>

</div>


    <script src="/assets/js/bundle.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42353458-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
