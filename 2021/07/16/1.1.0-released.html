<!DOCTYPE html>
<html lang='ja'>
  <head>
    <title>Crystal 1.1.0 is released! - プログラミング言語 Crystal</title>
    <meta charset='UTF-8'>
    <!-- Import Google Icon Font -->
    <link href='https://fonts.googleapis.com/icon?family=Material+Icons|Roboto+Mono' rel='stylesheet'><link type="text/css" rel="stylesheet" href="/assets/stylesheet.css"><link href='/feed.xml' rel='alternate' title='Atom 1.0' type='application/atom+xml'>
    <link href='/favicon.png' rel='icon' type='image/png'>
    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Crystal 1.1.0 is released! | プログラミング言語 Crystal</title>
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="Crystal 1.1.0 is released!" />
<meta name="author" content="beta-ziliani" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We are releasing the first post-1.0 release, making efforts to keep our promise of making regular releases each 3 months, a bit delayed because of the conference, and with special focus on keeping the language stability. Below we list the most important or interesting changes, without mentioning the several bugfixes. For details visit the release’s notes." />
<meta property="og:description" content="We are releasing the first post-1.0 release, making efforts to keep our promise of making regular releases each 3 months, a bit delayed because of the conference, and with special focus on keeping the language stability. Below we list the most important or interesting changes, without mentioning the several bugfixes. For details visit the release’s notes." />
<link rel="canonical" href="https://ja.crystal-lang.org/2021/07/16/1.1.0-released.html" />
<meta property="og:url" content="https://ja.crystal-lang.org/2021/07/16/1.1.0-released.html" />
<meta property="og:site_name" content="プログラミング言語 Crystal" />
<meta property="og:image" content="https://ja.crystal-lang.org/assets/icon.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-16T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://ja.crystal-lang.org/assets/icon.png" />
<meta property="twitter:title" content="Crystal 1.1.0 is released!" />
<meta name="twitter:site" content="@CrystalLanguage" />
<meta name="twitter:creator" content="@beta-ziliani" />
<script type="application/ld+json">
{"dateModified":"2021-07-16T00:00:00+00:00","datePublished":"2021-07-16T00:00:00+00:00","headline":"Crystal 1.1.0 is released!","url":"https://ja.crystal-lang.org/2021/07/16/1.1.0-released.html","mainEntityOfPage":{"@type":"WebPage","@id":"https://ja.crystal-lang.org/2021/07/16/1.1.0-released.html"},"image":"https://ja.crystal-lang.org/assets/icon.png","author":{"@type":"Person","name":"beta-ziliani"},"description":"We are releasing the first post-1.0 release, making efforts to keep our promise of making regular releases each 3 months, a bit delayed because of the conference, and with special focus on keeping the language stability. Below we list the most important or interesting changes, without mentioning the several bugfixes. For details visit the release’s notes.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ja.crystal-lang.org/assets/media/crystal_logo.svg"},"name":"beta-ziliani"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
 <!-- Let browser know website is optimized for mobile --><meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <script src='https://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript'></script>
  </head>
  <body>
    <!-- <div class="top-banner">
  <a href="https://www.eventbrite.co.uk/e/raw-crystal-2020-tickets-127439094763" target="_blank">
    <span class="tb-title">RAW CRYSTAL<span class="tb-thin"> | 2020</span></span>
    <span class="tb-gap"></span>
    <span class="tb-date">Dec 11</span>
    <span class="tb-register">REGISTER AT <em>Eventbrite</em></span>
  </a>
</div>
 -->
    <div class="wrapper "><nav role='navigation'>
  <div class='nav-wrapper no-select'>
    
      <a class='brand-logo' id='logo-container'>
        <canvas height='120' id='logo-canvas' style='cursor:move' width='120'></canvas>
      </a>
    
    <ul class='right hide-on-med-and-down' id='nav-desktop'>
      
<li>
    <a href="/">
      Home
    </a>
  </li>
<li>
    <a href="https://forum.crystal-lang.org" target="_blank">
      Forum
    </a>
  </li>
<li>
    <a href="/blog/">
      Blog
    </a>
  </li>
<li>
    <a href="/sponsors/">
      Sponsors
    </a>
  </li>
<li>
    <a href="/community/">
      Community
    </a>
  </li>
<li>
    <a href="/team/">
      Team
    </a>
  </li>
<li>
    <a href="/docs/">
      Docs
    </a>
  </li>
<li>
    <a href="https://github.com/crystal-lang/crystal" target="_blank">
      GitHub
    </a>
  </li>


    </ul>
    <ul class='side-nav' id='nav-mobile'>
      
<li>
    <a href="/">
      Home
    </a>
  </li>
<li>
    <a href="https://forum.crystal-lang.org" target="_blank">
      Forum
    </a>
  </li>
<li>
    <a href="/blog/">
      Blog
    </a>
  </li>
<li>
    <a href="/sponsors/">
      Sponsors
    </a>
  </li>
<li>
    <a href="/community/">
      Community
    </a>
  </li>
<li>
    <a href="/team/">
      Team
    </a>
  </li>
<li>
    <a href="/docs/">
      Docs
    </a>
  </li>
<li>
    <a href="https://github.com/crystal-lang/crystal" target="_blank">
      GitHub
    </a>
  </li>


    </ul>
    <a class='button-collapse' data-activates='nav-mobile' href='#'>
      <i class='material-icons'>menu</i>
    </a>
  </div>
</nav>
   <div class='post-header'>
  <div class="container">
    <div class='valign row'>
      <div class="col m2"></div>
      <div class="col s12 m9">
        <div class="author small">
          
          
            <img src="/assets/authors/beta-ziliani.jpg" width="460" height="460" alt="authors/beta-ziliani.jpg">
          
          
            <span class="author_name">Beta Ziliani</span>
          
          
          
            <span class="date">2 weeks and 4 days ago</span>
          
        </div>

        <h1 class='title'>Crystal 1.1.0 is released!</h1>
      </div>
      <div class="col m1"></div>
    </div>
  </div>
</div>
  <main><div class="container">
  <div class="row post-layout">
    <div class="col m2 share">
      <p class="title small share-title">Share</p>
      <div class="share-list">
        
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fja.crystal-lang.org%2F2021%2F07%2F16%2F1.1.0-released.html&text=Crystal+1.1.0+is+released%21&via=CrystalLanguage" target="_blank">
          <div class="share-item"><i class="extra-icons twitter gray"></i></div>
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fja.crystal-lang.org%2F2021%2F07%2F16%2F1.1.0-released.html" target="_blank">
          <div class="share-item"><i class="extra-icons facebook gray"></i></div>
        </a>
        <a href="https://plus.google.com/share?url=https%3A%2F%2Fja.crystal-lang.org%2F2021%2F07%2F16%2F1.1.0-released.html" target="_blank">
          <div class="share-item"><i class="extra-icons google_plus gray"></i></div>
          </a>
      </div>
    </div>

    <div class="col s12 m9">
      <p>We are releasing the first post-1.0 release, making efforts to keep our promise of making regular releases each 3 months, a bit delayed because of the <a href="/conference">conference</a>, and with special focus on keeping the language stability. Below we list the most important or interesting changes, without mentioning the several bugfixes. For details visit the <a href="https://github.com/crystal-lang/crystal/releases/tag/1.1.0">release’s notes</a>.</p>

<h2 id="stats">Stats</h2>

<p>In this release we included <a href="https://github.com/crystal-lang/crystal/pulls?q=is%3Apr+milestone%3A1.1.0">166 PRs since the 1.0.0 release</a> by 28 contributors. We thank all the effort put into improving the language and its stdlib! ❤️</p>

<h2 id="language-changes">Language changes</h2>

<p>Splats can now be embedded in enumerable literals and in type definitions (<a href="https://github.com/crystal-lang/crystal/pull/10429">#10429</a>). A few examples:</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-crystal" data-lang="crystal"><span class="n">t1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'a'</span><span class="p">}</span>
<span class="n">t2</span> <span class="o">=</span> <span class="p">{</span><span class="kp">true</span><span class="p">,</span> <span class="o">*</span><span class="n">t1</span><span class="p">}</span> <span class="c1"># =&gt; {true, 1, 'a'}</span>
<span class="n">typeof</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>       <span class="c1"># =&gt; Tuple(Bool, Int32, Char)</span>

<span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="p">{</span><span class="no">Bool</span><span class="p">,</span> <span class="o">*</span><span class="p">{</span><span class="no">Int32</span><span class="p">,</span> <span class="no">Char</span><span class="p">}});</span> <span class="k">end</span>       <span class="c1"># Works in type annotations too</span>
<span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="no">Tuple</span><span class="p">(</span><span class="no">Bool</span><span class="p">,</span> <span class="o">*</span><span class="p">{</span><span class="no">Int32</span><span class="p">,</span> <span class="no">Char</span><span class="p">}));</span> <span class="k">end</span>

<span class="n">ae</span> <span class="o">=</span> <span class="s1">'a'</span><span class="o">..</span><span class="s1">'e'</span>
<span class="n">ccae</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'&lt;'</span><span class="p">,</span> <span class="o">*</span><span class="n">ae</span><span class="p">,</span> <span class="s1">'&gt;'</span><span class="p">]</span> <span class="c1"># =&gt; ['&lt;', 'a', 'b', 'c', 'd', 'e', '&gt;']</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="o">..</span><span class="mi">10</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">5</span><span class="o">..</span><span class="mi">15</span>

<span class="no">Set</span><span class="p">{</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="o">*</span><span class="n">b</span><span class="p">}</span> <span class="c1"># =&gt; Set{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15}</span></code></pre></figure>
</div>

<p>The type of a while expression is now the union of all break expressions within the body, plus <code class="language-plaintext highlighter-rouge">Nil</code> if the condition isn’t exactly the <code class="language-plaintext highlighter-rouge">true</code> literal; the while expression returns <code class="language-plaintext highlighter-rouge">nil</code> if the condition fails. The type of a break expression is computed similarly to a break inside a block or a return (<code class="language-plaintext highlighter-rouge">Nil</code> if empty, <code class="language-plaintext highlighter-rouge">Tuple</code> if multiple values) (<a href="https://github.com/crystal-lang/crystal/pull/10566">#10566</a>).</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-crystal" data-lang="crystal"><span class="c1"># First the first non-blank line in STDIN</span>
<span class="n">first_non_blank_line</span> <span class="o">=</span>
  <span class="k">while</span> <span class="n">line</span> <span class="o">=</span> <span class="nb">gets</span>
    <span class="k">break</span> <span class="n">line</span> <span class="k">unless</span> <span class="n">line</span><span class="p">.</span><span class="nf">blank?</span>
  <span class="k">end</span>

<span class="nb">puts</span> <span class="n">first_non_blank_line</span></code></pre></figure>
</div>

<h2 id="macros">Macros</h2>

<p>It is now possible to access the top level module with the special instance variable <code class="language-plaintext highlighter-rouge">@top_level</code> (<a href="https://github.com/crystal-lang/crystal/pull/10682">#10682</a>):</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-crystal" data-lang="crystal"><span class="no">FOO</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">class</span> <span class="nc">Foo</span>
    <span class="k">def</span> <span class="nf">bar</span>
       <span class="p">{{</span><span class="vi">@top_level</span><span class="p">.</span><span class="nf">has_constant?</span><span class="p">(</span><span class="s2">"FOO"</span><span class="p">)}}</span>  <span class="c1"># true</span>
    <span class="k">end</span>
<span class="k">end</span></code></pre></figure>
</div>

<p><code class="language-plaintext highlighter-rouge">NumberLiteral</code> now includes a <code class="language-plaintext highlighter-rouge">to_number</code> method to obtain the pure number, without any <em>stringification</em> <a href="https://github.com/crystal-lang/crystal/pull/10802">#10802</a>:</p>

<div class="code_section">
<figure class="highlight"><pre><code class="language-crystal" data-lang="crystal"><span class="p">{{</span> <span class="nb">p</span> <span class="mi">10</span><span class="n">_u8</span><span class="p">.</span><span class="nf">id</span> <span class="p">}}</span>  <span class="c1"># =&gt; 10_u8</span>
<span class="p">{{</span> <span class="nb">p</span> <span class="mi">10</span><span class="n">_u8</span><span class="p">.</span><span class="nf">to_number</span> <span class="p">}}</span>  <span class="c1"># =&gt; 10</span></code></pre></figure>
</div>

<p>We included a small breaking change, as there was a mismatch between the documentation and the code regarding <code class="language-plaintext highlighter-rouge">Path#global?</code>. The former <code class="language-plaintext highlighter-rouge">Path#global</code> is now deprecated in favor of <code class="language-plaintext highlighter-rouge">Path#global?</code>, whose name better represents it (<a href="https://github.com/crystal-lang/crystal/pull/10812">#10812</a>).</p>

<p>There is a new macro method <code class="language-plaintext highlighter-rouge">ASTNode#nil?</code> for querying if an object is the <code class="language-plaintext highlighter-rouge">NilLiteral</code> or <code class="language-plaintext highlighter-rouge">Nop</code> (<a href="https://github.com/crystal-lang/crystal/pull/10850">#10850</a>, <a href="https://github.com/crystal-lang/crystal/pull/10616">#10616</a>).</p>

<h2 id="stdlib">Stdlib</h2>

<p>There were several changes that are not supposed to have a direct impact on the users. The most important one to note is that to help get better error messages and documentation, several methods were annotated with expected types. Adding typing annotations might break existing code in specific scenarios so, if this happens to you, please let us now. Also, we are growing the native Windows support, requiring several refactors.</p>

<h3 id="numeric">Numeric</h3>

<p>It is now possible to create numbers from different representations using <code class="language-plaintext highlighter-rouge">new</code>, as in <code class="language-plaintext highlighter-rouge">Float32.new("1.1", whitespace:false)</code> ((<a href="https://github.com/crystal-lang/crystal/pull/10422">#10422</a>).</p>

<p>We added <code class="language-plaintext highlighter-rouge">#positive?</code> and <code class="language-plaintext highlighter-rouge">#negative?</code> methods for <code class="language-plaintext highlighter-rouge">Number</code> and <code class="language-plaintext highlighter-rouge">Time::Span</code> (<a href="https://github.com/crystal-lang/crystal/pull/10601">#10601</a>).</p>

<p><code class="language-plaintext highlighter-rouge">BigFloat</code> and <code class="language-plaintext highlighter-rouge">BigDecimal</code> got rounding modes (<a href="https://github.com/crystal-lang/crystal/pull/10618">#10618</a>, <a href="https://github.com/crystal-lang/crystal/pull/10798">#10798</a>).</p>

<h3 id="collections">Collections</h3>

<p>Likewise to <code class="language-plaintext highlighter-rouge">Set</code>, the <code class="language-plaintext highlighter-rouge">Hash</code> class includes now sub/superset checking methods (<a href="https://github.com/crystal-lang/crystal/pull/7500">#7500</a>):</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Hash#subset_of?(other : Hash)</code></li>
  <li><code class="language-plaintext highlighter-rouge">Hash#proper_subset_of?(other : Hash)</code></li>
  <li><code class="language-plaintext highlighter-rouge">Hash#superset_of?(other : Hash)</code></li>
  <li><code class="language-plaintext highlighter-rouge">Hash#proper_superset_of?(other : Hash)</code></li>
</ul>

<p>Also, we  generalized <code class="language-plaintext highlighter-rouge">Number#step</code> with a new <a href="https://crystal-lang.org/api/1.1.0/Steppable.html"><code class="language-plaintext highlighter-rouge">Steppable</code></a> module, that is included in <code class="language-plaintext highlighter-rouge">Char</code>, <code class="language-plaintext highlighter-rouge">Number</code>, <code class="language-plaintext highlighter-rouge">Time</code> and <code class="language-plaintext highlighter-rouge">Time::Span</code> (<a href="https://github.com/crystal-lang/crystal/pull/10279">#10279</a>).</p>

<p>Finally, it is now possible to <code class="language-plaintext highlighter-rouge">#truncate</code> and <code class="language-plaintext highlighter-rouge">Array</code>, to efficiently remove elements from both ends (<a href="https://github.com/crystal-lang/crystal/pull/10712">#10712</a>).</p>

<h3 id="crypto">Crypto</h3>

<p>New methods for getting peer certificates and signatures in <code class="language-plaintext highlighter-rouge">OpenSSL</code> (<a href="https://github.com/crystal-lang/crystal/pull/8005">#8005</a>).</p>

<h3 id="files">Files</h3>

<p>Now it is possible to use a <code class="language-plaintext highlighter-rouge">Path</code> for the methods in <code class="language-plaintext highlighter-rouge">FileUtils</code> (<a href="https://github.com/crystal-lang/crystal/pull/10747">#10747</a>).</p>

<h3 id="networking">Networking</h3>

<p><code class="language-plaintext highlighter-rouge">OAuth2::Client</code> supports the customization of its <code class="language-plaintext highlighter-rouge">HTTP::Client</code> node (<a href="https://github.com/crystal-lang/crystal/pull/10452">10452</a>).</p>

<h3 id="runtime">Runtime</h3>

<p>The segfault handler is now implemented in Crystal, in practice meaning that the compilation process of Crystal is simpler: it does not require the former external <code class="language-plaintext highlighter-rouge">libcrystal</code>. For package maintainers, this means building <code class="language-plaintext highlighter-rouge">libcrystal.a</code> (which was part of the <code class="language-plaintext highlighter-rouge">make deps</code> recipe) is obsolete now. The C code for this library has been removed and packaging instructions need to be updated. <code class="language-plaintext highlighter-rouge">make deps</code> is no longer necessary for building arbitrary Crystal programs; now it only builds <code class="language-plaintext highlighter-rouge">llvm_ext.a</code>, only required for linking against LLVM (for example when building the compiler itself).</p>

<h3 id="serialization">Serialization</h3>

<p>The Yaml parser now supports <code class="language-plaintext highlighter-rouge">UUID</code> (<a href="https://github.com/crystal-lang/crystal/pull/10715">#10715</a>).</p>

<p>We have been able to do all of this thanks to the continued support of <a href="https://www.84codes.com/">84codes</a>, <a href="https://nikolamotor.com/">Nikola Motor Company</a> and every other <a href="/sponsors">sponsor</a>. To maintain and increase the development pace, donations and sponsorships are essential. <a href="https://opencollective.com/crystal-lang">OpenCollective</a> is available for that. Reach out to <a href="mailto:crystal@manas.tech">crystal@manas.tech</a> if you’d like to become a direct sponsor or find other ways to support Crystal. We thank you in advance!</p>

    </div>
    <div class="col m1"></div>
  </div>
</div>
</main><footer>
  <div class="row">
    <div class="col s12 m12 l6 crystal">
      Crystal is licensed under the Apache License,
      <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>
        Version 2.0
      </a>
    </div>
    <div class="col s12 m12 l6 manas right-align black-text">
      Crystal language, born & raised at
      <a href="https://manas.tech" target="_blank" class="black-text">Manas</a>
      <a href="https://manas.tech" target="_blank" class="logo">
        <i class="manas"></i>
      </a>
    </div>
  </div>
</footer>
</div><script type="text/javascript" src="/assets/bundle.js"></script> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42353458-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
